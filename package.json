{
  "_args": [
    [
      "react-native-gcm@git://github.com/evollu/react-native-gcm.git",
      "/Users/libinlu/Code/rn"
    ]
  ],
  "_from": "git://github.com/evollu/react-native-gcm.git",
  "_id": "react-native-gcm@0.0.1",
  "_inCache": true,
  "_installable": true,
  "_location": "/react-native-gcm",
  "_phantomChildren": {},
  "_requested": {
    "hosted": {
      "directUrl": "https://raw.githubusercontent.com/evollu/react-native-gcm/master/package.json",
      "gitUrl": "git://github.com/evollu/react-native-gcm.git",
      "httpsUrl": "git+https://github.com/evollu/react-native-gcm.git",
      "shortcut": "github:evollu/react-native-gcm",
      "ssh": "git@github.com:evollu/react-native-gcm.git",
      "sshUrl": "git+ssh://git@github.com/evollu/react-native-gcm.git",
      "type": "github"
    },
    "name": "react-native-gcm-push-notification",
    "raw": "react-native-gcm@git://github.com/evollu/react-native-gcm.git",
    "rawSpec": "git://github.com/evollu/react-native-gcm.git",
    "scope": null,
    "spec": "git://github.com/evollu/react-native-gcm.git",
    "type": "hosted"
  },
  "_requiredBy": [
    "/"
  ],
  "_resolved": "git://github.com/evollu/react-native-gcm.git#375675c7d4d8888b482e6a4455eeae174ed4ed57",
  "_shasum": "836e415021d9497246689963c64904157e743380",
  "_shrinkwrap": null,
  "_spec": "react-native-gcm@git://github.com/evollu/react-native-gcm.git",
  "_where": "/Users/libinlu/Code/rn",
  "author": {
    "email": "libinlu89@gmail.com",
    "name": "Libin Lu"
  },
  "bugs": {
    "url": "https://github.com/evollu/react-native-gcm/issues"
  },
  "dependencies": {},
  "description": "GCM for React Native Android",
  "devDependencies": {},
  "gitHead": "375675c7d4d8888b482e6a4455eeae174ed4ed57",
  "homepage": "https://github.com/evollu/react-native-gcm",
  "keywords": [
    "GCM",
    "android",
    "ios",
    "react-component",
    "react-native"
  ],
  "name": "react-native-gcm",
  "nativePackage": true,
  "optionalDependencies": {},
  "peerDependencies": {
    "react-native": ">=0.11.0"
  },
  "readme": "# react-native-gcm-android\n\nGCM for React Native Android\n\n## Demo\n\nhttps://github.com/oney/TestGcm\n\n## Installation\n\n- Run `npm install react-native-gcm-android --save`\n\n- In `android/build.gradle`\n```gradle\ndependencies {\n    classpath 'com.android.tools.build:gradle:1.3.1'\n    classpath 'com.google.gms:google-services:1.5.0-beta3' // <- Add this line\n```\n\n- In `android/settings.gradle`, add\n```gradle\ninclude ':RNGcmAndroid', ':app'\nproject(':RNGcmAndroid').projectDir = new File(rootProject.projectDir, '../node_modules/react-native-gcm-android/android')\n\ninclude ':react-native-system-notification'\nproject(':react-native-system-notification').projectDir = new File(settingsDir, '../node_modules/react-native-system-notification/android')\n```\n\n- In `android/app/build.gradle`\n```gradle\napply plugin: \"com.android.application\"\napply plugin: 'com.google.gms.google-services'           // <- Add this line\n...\ndependencies {\n    compile fileTree(dir: \"libs\", include: [\"*.jar\"])\n    compile \"com.android.support:appcompat-v7:23.0.1\"\n    compile \"com.facebook.react:react-native:0.16.+\"\n    compile 'com.google.android.gms:play-services-gcm:8.3.0' // <- Add this line\n    compile project(':RNGcmAndroid')                         // <- Add this line\n    compile project(':react-native-system-notification')     // <- Add this line\n}\n```\n\n- In `android/app/src/main/AndroidManifest.xml`, add these lines, be sure to change `com.xxx.yyy` to your package\n```xml\n<uses-permission android:name=\"com.google.android.c2dm.permission.RECEIVE\" />\n<uses-permission android:name=\"android.permission.WAKE_LOCK\" />\n<uses-permission android:name=\"com.google.android.c2dm.permission.SEND\" />\n<uses-permission android:name=\"android.permission.GET_ACCOUNTS\" />\n<uses-permission android:name=\"android.permission.GET_TASKS\" /> \n<uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\"/>\n\n<permission\n  android:name=\"com.xxx.yyy.permission.C2D_MESSAGE\"\n  android:protectionLevel=\"signature\" />\n<uses-permission android:name=\"com.xxx.yyy.permission.C2D_MESSAGE\" />\n<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\n<uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\n<uses-permission android:name=\"android.permission.VIBRATE\"></uses-permission>\n\n...\n\n<application\n  android:theme=\"@style/AppTheme\">\n\n  ...\n  <meta-data\n    android:name=\"com.google.android.gms.version\"\n    android:value=\"@integer/google_play_services_version\" />\n\n  <receiver\n    android:name=\"com.google.android.gms.gcm.GcmReceiver\"\n    android:exported=\"true\"\n    android:permission=\"com.google.android.c2dm.permission.SEND\" >\n    <intent-filter>\n      <action android:name=\"com.google.android.c2dm.intent.RECEIVE\" />\n      <category android:name=\"com.xxx.yyy\" />\n    </intent-filter>\n  </receiver>\n  <service android:name=\"com.oney.gcm.GcmRegistrationService\"/>\n  <service android:name=\"com.oney.gcm.BackgroundService\"></service>\n\n  <service\n    android:name=\"com.oney.gcm.RNGcmListenerService\"\n    android:exported=\"false\" >\n    <intent-filter>\n      <action android:name=\"com.google.android.c2dm.intent.RECEIVE\" />\n    </intent-filter>\n  </service>\n  <receiver\n    android:exported=\"false\"\n    android:name=\"com.oney.gcm.GcmBroadcastReceiver\">\n    <intent-filter>\n      <action android:name=\"com.oney.gcm.GCMReceiveNotification\" />\n      </intent-filter>\n  </receiver>\n\n  <receiver android:name=\"io.neson.react.notification.NotificationEventReceiver\" />\n  <receiver android:name=\"io.neson.react.notification.NotificationPublisher\" />\n  <receiver android:name=\"io.neson.react.notification.SystemBootEventReceiver\">\n    <intent-filter>\n      <action android:name=\"android.intent.action.BOOT_COMPLETED\"></action>\n    </intent-filter>\n  </receiver>\n  ...\n```\n- In `android/app/src/main/java/com/testoe/MainActivity.java`\n```java\nimport com.oney.gcm.GcmPackage;                             // <- Add this line\nimport io.neson.react.notification.NotificationPackage;     // <- Add this line\n    ...\n        .addPackage(new MainReactPackage())\n        .addPackage(new GcmPackage())                       // <- Add this line\n        .addPackage(new NotificationPackage(this))          // <- Add this line\n```\n\n### GCM API KEY\nBy following [Cloud messaging](https://developers.google.com/cloud-messaging/android/client), you can get `google-services.json` file and place it in `android/app` directory\n\n### Usage\n\n```javascript\n'use strict';\n\nvar React = require('react-native');\nvar {\n  AppRegistry,\n  View,\n  DeviceEventEmitter,\n} = React;\n\nvar GcmAndroid = require('react-native-gcm-android');\nimport Notification from 'react-native-system-notification';\n\nif (GcmAndroid.launchNotification) {\n  var notification = GcmAndroid.launchNotification;\n  var info = JSON.parse(notification.info);\n  Notification.create({\n    subject: info.subject,\n    message: info.message,\n  });\n  GcmAndroid.stopService();\n} else {\n\n  var {Router, Route, Schema, Animations, TabBar} = require('react-native-router-flux');\n  var YourApp = React.createClass({\n    componentDidMount: function() {\n      GcmAndroid.addEventListener('register', function(token){\n        console.log('send gcm token to server', token);\n      });\n      GcmAndroid.addEventListener('registerError', function(error){\n        console.log('registerError', error.message);\n      });\n      GcmAndroid.addEventListener('notification', function(notification){\n        console.log('receive gcm notification', notification);\n        var info = JSON.parse(notification.data.info);\n        if (!GcmAndroid.isInForeground) {\n          Notification.create({\n            subject: info.subject,\n            message: info.message,\n          });\n        }\n      });\n\n      DeviceEventEmitter.addListener('sysNotificationClick', function(e) {\n        console.log('sysNotificationClick', e);\n      });\n\n      GcmAndroid.requestPermissions();\n    },\n    render: function() {\n      return (\n        ...\n      );\n    }\n  });\n\n  AppRegistry.registerComponent('YourApp', () => YourApp);\n}\n```\n\n* There are two situations.\n##### The app is running on the foreground or background.\n`GcmAndroid.launchNotification` is `null`, you can get notification in `GcmAndroid.addEventListener('notification'` listenter.\n##### The app is killed/closed\n`GcmAndroid.launchNotification` is your GCM data. You can create notification with resolving the data by using [react-native-system-notification module](https://github.com/Neson/react-native-system-notification).\n\n* You can get info when clicking notification in `DeviceEventEmitter.addListener('sysNotificationClick'`. See [react-native-system-notification](https://github.com/Neson/react-native-system-notification) to get more informations about how to create notification \n\n## Troubleshoot\n\n- Do not add `multiDexEnabled true` in `android/app/build.gradle` even encounter `com.android.dex.DexException: Multiple dex files...` failure.\n- Make sure to install Google Play service in Genymotion simulator before testing.\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/evollu/react-native-gcm.git"
  },
  "version": "0.0.1"
}
